<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magnetostatic FEM - Posts</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/style.css" />
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"
    ></script>
    <!-- Prism.js CSS -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet" />

    <!-- Prism.js JS -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>

  </head>
<body>
    <!-- Navigation Bar -->
    <div id="navbar"></div>
    <script src="/global/navbar.js"></script>

    <main class="container my-5">
      <!-- Hero / Title -->
      <header class="mb-5 text-center">
        <h1 class="posts-title">2D Magnetostatic Fields (FEM)</h1>
      </header>

      <!--! Geometry Section -->
      <section id="geometry" class="mb-4">
        <h2 class="posts-headline">1. Geometry</h2>

        <p class="posts-text">
          First, the geometry was created using Gmsh in Python.
        </p>

        <figure class="text-center">
          <img
            src="/images/posts/magnetostatic_fem/gmsh_geometry.png"
            class="img-fluid posts-image"
            alt="Gmsh geometry for 2D magnetostatic FEM"
          />
          <figcaption class="posts-caption">
            Fig 1: Geometry created with Gmsh.
          </figcaption>
        </figure>
        
        <p class="posts-text">
            The code for this is shown below:
        </p>
        <pre><code class="language-python">
            gmsh.initialize()
            dirichlet_pg = 1
            current_pg = 2
            iron_pg = 3
            air_pg = 4
            boxwidth = 10
            line_radius = 1
            outerbox = gmsh.model.occ.addRectangle(-boxwidth/2, -boxwidth/2, 0, boxwidth, boxwidth, 1)
            disc = gmsh.model.occ.addDisk(0, 0, 0, line_radius, line_radius)
            rectangle = gmsh.model.occ.addRectangle(-3,-2.5,0,1,5,3)
            frags, _ = gmsh.model.occ.fragment([(2, outerbox)], [(2, disc),(2,rectangle)])
            gmsh.model.occ.synchronize()
                    
            gmsh.model.addPhysicalGroup(1, [1, 2, 3, 4], tag=dirichlet_pg)
            gmsh.model.addPhysicalGroup(2, [2], tag=current_pg)
            gmsh.model.addPhysicalGroup(2, [3], tag=iron_pg)
                    
                    
            gmsh.option.setNumber("Mesh.CharacteristicLengthMin", 0.25)
            gmsh.option.setNumber("Mesh.CharacteristicLengthMax", 0.25)
                    
            gmsh.model.mesh.generate(2)
            gmsh.fltk.run()

        </code></pre>

      </section>

      <!--! Formulation Section -->
      <section id="formulation" class="mb-4">
        <h2 class="posts-headline">2. Formulation</h2>

        <p class="posts-text">
          The governing equation solved in this FEM simulation is:
        </p>

        <p class="posts-text">
          \[
          \nabla \times \left( \frac{1}{\mu_r} \nabla \times A_z \hat{z} \right) = \mu_0 J_z
          \]
        </p>
      </section>

      <!--! Results Section -->
      <section id="results" class="mb-4">
        <h2 class="posts-headline">3. Results</h2>

        <p class="posts-text">
          Here are results
        </p>

        <figure class="text-center">
          <img
            src="/images/posts/magnetostatic_fem/Figure_1.png"
            class="img-fluid posts-image"
            alt="Gmsh geometry for 2D magnetostatic FEM"
          />
          <figcaption class="posts-caption">
            Fig
          </figcaption>
        </figure>

        <figure class="text-center">
          <img
            src="/images/posts/magnetostatic_fem/Figure_2.png"
            class="img-fluid posts-image"
            alt="Gmsh geometry for 2D magnetostatic FEM"
          />
          <figcaption class="posts-caption">
            Fig
          </figcaption>
        </figure>
      </section>


</section>
      <!--! References -->
      <section id="references" class="mb-4">
        <h2 class="posts-headline">References</h2>
        <ul class="posts-text">
          <li>
            <a href="https://en.wikipedia.org/wiki/Galerkin_method" target="_blank" rel="noopener">
              Galerkin Method - Wikipedia
            </a>
          </li>
        </ul>
      </section>
    </main>

    <!-- Footer -->
    <div id="footer"></div>
    <script src="/global/footer.js"></script>
  </body>
</html>